#include "SZProductTestDefine.h"
#include "HalLog.h"


#define LOG_TAG "[FactoryCali] "
#define MY_ARRAY_SIZE(arr)    (sizeof(arr) / sizeof((arr)[0]))

#define FT_TEST_CMD(cmd_id) {cmd_id, #cmd_id}
#define TOSTR(cmd) #cmd

struct ft_id {
    SZ_PRODUCT_TEST_CMD cmd_id;
    char id[128];
};

struct ft_id ft_ids[] = {
    FT_TEST_CMD(CMD_TEST_SZ_FINGER_DOWN),
    FT_TEST_CMD(CMD_TEST_SZ_FINGER_UP),
    FT_TEST_CMD(CMD_TEST_SZ_ENROLL),
    FT_TEST_CMD(CMD_TEST_SZ_FIND_SENSOR),
    FT_TEST_CMD(CMD_TEST_SZ_FUSION_PREVIEW),
    FT_TEST_CMD(CMD_TEST_SZ_UNTRUSTED_ENROLL),
    FT_TEST_CMD(CMD_TEST_SZ_UNTRUSTED_AUTHENTICATE),
    FT_TEST_CMD(CMD_TEST_SZ_DELETE_UNTRUSTED_ENROLLED_FINGER),
    FT_TEST_CMD(CMD_TEST_SZ_RAWDATA_PREVIEW),
    FT_TEST_CMD(CMD_TEST_SZ_LDC_CALIBRATE),
    FT_TEST_CMD(CMD_TEST_SZ_ENROLL_TEMPLATE_COUNT),
    FT_TEST_CMD(CMD_TEST_SZ_UPDATE_CAPTURE_PARM),
    FT_TEST_CMD(CMD_TEST_SZ_CANCEL),
    FT_TEST_CMD(CMD_TEST_SZ_GET_CONFIG),
    FT_TEST_CMD(CMD_TEST_SZ_GET_VERSION),
    FT_TEST_CMD(CMD_TEST_SZ_K_B_CALIBRATION),
    FT_TEST_CMD(CMD_TEST_SZ_SET_GROUP_ID),
    FT_TEST_CMD(CMD_TEST_SZ_UPDATE_CFG),
    FT_TEST_CMD(CMD_TEST_SZ_UPDATE_FW),
    FT_TEST_CMD(CMD_TEST_SZ_UNTRUSTED_ENUMERATE),
    FT_TEST_CMD(CMD_TEST_SZ_FT_CAPTURE_DARK_BASE),
    FT_TEST_CMD(CMD_TEST_SZ_FT_CAPTURE_H_DARK),
    FT_TEST_CMD(CMD_TEST_SZ_FT_CAPTURE_L_DARK),
    FT_TEST_CMD(CMD_TEST_SZ_FT_CAPTURE_H_FLESH),
    FT_TEST_CMD(CMD_TEST_SZ_FT_CAPTURE_L_FLESH),
    FT_TEST_CMD(CMD_TEST_SZ_FT_CAPTURE_CHART),
    FT_TEST_CMD(CMD_TEST_SZ_FT_CAPTURE_CHECKBOX),
    FT_TEST_CMD(CMD_TEST_SZ_FT_CAPTURE_LOCATION_IMAGE),
    FT_TEST_CMD(CMD_TEST_SZ_FT_FACTORY_PERFORMANCE),
    FT_TEST_CMD(CMD_TEST_SZ_FT_EXPO_AUTO_CALIBRATION),
    FT_TEST_CMD(CMD_TEST_SZ_FT_STOP_EXPO_AUTO_CALIBRATION),
    FT_TEST_CMD(CMD_TEST_SZ_FT_RESET),
    FT_TEST_CMD(CMD_TEST_SZ_FT_SPI_RST_INT),
    FT_TEST_CMD(CMD_TEST_SZ_FT_SPI),
    FT_TEST_CMD(CMD_TEST_SZ_FT_INIT),
    FT_TEST_CMD(CMD_TEST_SZ_FT_EXIT),
    FT_TEST_CMD(CMD_TEST_SZ_FT_CALIBRATE),
    FT_TEST_CMD(CMD_TEST_SZ_FT_MT_CHECK),
    FT_TEST_CMD(CMD_TEST_SZ_FT_KPI),
    FT_TEST_CMD(CMD_TEST_SZ_FT_FACTORY_CAPTURE_IMAGE_MANUAL),
    FT_TEST_CMD(CMD_TEST_SZ_FRR_FAR_GET_CHIP_TYPE),
    FT_TEST_CMD(CMD_TEST_SZ_FRR_FAR_INIT),
    FT_TEST_CMD(CMD_TEST_SZ_FRR_FAR_RECORD_CALIBRATION),
    FT_TEST_CMD(CMD_TEST_SZ_FRR_FAR_RECORD_ENROLL),
    FT_TEST_CMD(CMD_TEST_SZ_FRR_FAR_RECORD_AUTHENTICATE),
    FT_TEST_CMD(CMD_TEST_SZ_FRR_FAR_RECORD_AUTHENTICATE_FINISH),
    FT_TEST_CMD(CMD_TEST_SZ_FRR_FAR_PLAY_CALIBRATION),
    FT_TEST_CMD(CMD_TEST_SZ_FRR_FAR_PLAY_ENROLL),
    FT_TEST_CMD(CMD_TEST_SZ_FRR_FAR_PLAY_AUTHENTICATE),
    FT_TEST_CMD(CMD_TEST_SZ_FRR_FAR_ENROLL_FINISH),
    FT_TEST_CMD(CMD_TEST_SZ_FRR_FAR_SAVE_FINGER),
    FT_TEST_CMD(CMD_TEST_SZ_FRR_FAR_DEL_FINGER),
    FT_TEST_CMD(CMD_TEST_SZ_CANCEL_FRR_FAR),
    FT_TEST_CMD(CMD_TEST_SZ_FRR_FAR_PLAY_ENROLL_RAWDATA),
    FT_TEST_CMD(CMD_TEST_SZ_FRR_FAR_PLAY_AUTH_RAWDATA),
    FT_TEST_CMD(CMD_TEST_SZ_CANCEL_FRR_FAR_PREPROCESS),
    FT_TEST_CMD(CMD_TEST_SZ_DUMP_TEMPLATE),
    FT_TEST_CMD(CMD_TEST_SZ_SET_HBM_MODE),
    FT_TEST_CMD(CMD_TEST_SZ_CLOSE_HBM_MODE),
    FT_TEST_CMD(CMD_TEST_SZ_SET_HIGH_BRIGHTNESS),
    FT_TEST_CMD(CMD_TEST_SZ_SET_LOW_BRIGHTNESS),
    FT_TEST_CMD(CMD_TEST_SZ_SET_DUMP_ENABLE_FLAG),
    FT_TEST_CMD(CMD_TEST_SZ_FACTORY_TEST_GET_MT_INFO),
    FT_TEST_CMD(CMD_TEST_SZ_SET_MAX_BRIGHTNESS),
    FT_TEST_CMD(CMD_TEST_SZ_SLEEP_SENSOR),
    FT_TEST_CMD(CMD_TEST_SZ_FRR_FAR_CALI_P0),
    FT_TEST_CMD(CMD_TEST_SZ_FRR_FAR_CALI_P1),
    FT_TEST_CMD(CMD_TEST_SZ_FRR_FAR_CALI_P2),
    FT_TEST_CMD(CMD_TEST_SZ_FRR_FAR_CALI_P3),
    FT_TEST_CMD(CMD_TEST_SZ_FRR_FAR_CALI_P4),
    FT_TEST_CMD(CMD_TEST_SZ_FRR_FAR_CALI_P5),
    FT_TEST_CMD(CMD_TEST_SZ_FRR_FAR_CALI_P6),
    FT_TEST_CMD(CMD_TEST_SZ_FRR_FAR_CALI_P7),
    FT_TEST_CMD(CMD_TEST_SZ_FRR_FAR_CALI_P8),
    FT_TEST_CMD(CMD_TEST_SZ_FRR_FAR_CALI_P9),
    FT_TEST_CMD(CMD_TEST_SZ_FT_SAMPLE_CALI_INIT),
    FT_TEST_CMD(CMD_TEST_SZ_FT_SAMPLE_CALI_EXIT),
    FT_TEST_CMD(CMD_TEST_SZ_FT_SAMPLE_CALI_BASE),
    FT_TEST_CMD(CMD_TEST_SZ_FT_SAMPLE_CALI_AUTO_CALIBRATION),
    FT_TEST_CMD(CMD_TEST_SZ_FT_SAMPLE_STOP_CALI_AUTO_CALIBRATION),
    FT_TEST_CMD(CMD_TEST_SZ_FT_SAMPLE_CALI_PERFORMANCE),
    FT_TEST_CMD(CMD_TEST_SZ_FT_SAMPLE_CALI_SCREEN_CHART),
    FT_TEST_CMD(CMD_TEST_SZ_FT_CAPTURE_CHECKBOX_PERFORMANCE),
    FT_TEST_CMD(CMD_TEST_OPLUS_GET_IMAGE_QUALITY),
    FT_TEST_CMD(CMD_TEST_SZ_MAX),
};

char *ft_id_to_string(int32_t cmd_id) {
    int i = 0;
    for (i = 0; i < MY_ARRAY_SIZE(ft_ids); i++) {
        if (ft_ids[i].cmd_id == cmd_id) {
            break;
        }
    }
    return i == MY_ARRAY_SIZE(ft_ids) ? (char *)TOSTR(cmd_id) : (char *)ft_ids[i].id;
}
